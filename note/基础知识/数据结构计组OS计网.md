# 数据结构/计组/OS/计网

## 数据结构

### 树

树，森林，二叉树

​	1、节点的度指该节点拥有的子树个数

​	2、树和二叉树的相互转换一般遵循左孩子右兄弟（每个节点的左子节点为其孩子节点，右子节点为其兄弟节点）



完全二叉树、平衡二叉树、满二叉树

​	完全二叉树：设完全二叉树深度为h，则去掉这一层就是一个满二叉树，且第h曾节点集中在最左边

​	平衡二叉树：左右子树高度差不大于1，即不存在平衡因子大于1的节点，平衡因子指的是该节点左右子树的高度差，平衡二叉树中的平							衡因子只能取0、1、-1，是一种平衡查找树

​	满二叉树：每一层的节点都达到最大值



平衡二叉树（AVL）的调整

​	最小失衡子树：在新插入的结点向上查找，以第一个平衡因子的绝对值超过1的结点为根的子树

​	方法：平衡二叉树失衡调整通过旋转最小失衡子树实现

​			左旋：右孩子代替旋转结点，右孩子的左子树变为该结点右子树，结点本身变为右孩子的左子树

​			右旋：左孩子替代旋转结点，左孩子的右子树变为该结点左子树，结点本身变为左孩子的右子树

​	AVL树的结点插入方式

​		1、LL：在左子树根节点的左子树上插入结点导致平衡破坏，右旋

​		2、RR：在右子树根节点的右子树上插入结点导致平衡破坏，左旋

​		3、LR：在左子树根节点的右子树上插入结点导致平衡破坏，先左线再右旋

​		4、RL：在右子树根节点的左子树上插入结点导致平衡破坏，先右旋再左旋

​		总结：由上至下调整，左树右旋，右树左旋



B-树：一种平衡多路查找树，并不一定是二叉树（-为连接符号）

​	//向上取整⌈⌉，向下取整⌊⌋

​	条件和性质:

​		1、所有的叶子节点都在同一层，且不带信息（可看作是外部结点或是查找失败的结点，但实际上这些结点不存在，指向这些结点的指针为空）

​		2、每个结点包含的关键字个数j满足┌m/2┐ - 1 <= j <= m - 1，m为树的最大度数

​		3、除根结点以外的所有结点（不包括叶子结点）的度数正好是关键字总数加1，故内部子树个数 k 满足：┌m/2┐ <= k <= m 

​		4、根结点至少有两个子女

​		5、非叶子结点最多有m个孩子，且m>2；根节点的儿子树为[2,m]

​		6、除根结点以外的非叶子结点的儿子数为[M/2, M]，每个结点存放至少M/2-1（取上整）和至多M-1个关键字

​		7、非叶子结点的关键字个数=指向儿子的指针个数-1

​		8、非叶子结点的关键字：K[1], K[2], …, K[M-1]；且K[i] < K[i+1]

​		9、非叶子结点的指针：P[1], P[2], …, P[M]；其中P[1]指向关键字小于K[1]的子树，P[M]指向关键字大于K[M-1]的子树，其它P[i]指向				关键字属于(K[i-1], K[i])的子树

​	特性：

​		1、关键字集合分布在整棵树

​		2、任何一个关键字出现且只出现在一个结点中

​		3、搜索有可能在非叶子结点结束

​		4、搜索性能等价于在关键字全集内做一次二分查找

​		5、自动层次控制



B+树：B-树的变形

​	差异：1、有n棵子树的结点中含有n个关键字，每个关键字不保存数据，只用来索引，所有数据都保存在叶子节点

​				2、所有的叶子结点中包含了全部关键字的信息，及指向含这些关键字记录的指针，且叶子结点本身依关键字的大小自小而大顺序链接

​				3、所有的非终端结点可以看成是索引部分，结点中仅含其子树（根结点）中的最大（或最小）关键字

​	特性：1、非叶子结点的子树指针与关键字个数相同且非叶子结点的子树指针P[i]，指向关键字值属于[K[i], K[i+1])的子树

（B-树是开区间）

​				2、所有叶子结点增加了一个链指针，所有关键字都在叶子结点出现

​				3、所有关键字都出现在叶子结点的链表中（稠密索引），且链表中的关键字恰好是有序的

​				4、不可能在非叶子结点命中，非叶子结点相当于是叶子结点的索引（稀疏索引），叶子结点相当于是存储（关键字）数据的数						据层

​				5、更适合文件索引系统

​	红黑树：

### 图

## 计组

### 计算机系统概述

#### 计算机系统层次结构

计算机系统的组成：硬件系统+软件系统

​	硬件系统：计算机中看得见摸得着的物理设备

​	软件系统：运行在计算机硬件上的程序和相关的数据和文档



计算机系统性能的好坏很大程度上由软件的效率和作用实现，而软件性能的好坏又离不开硬件的支持

硬件解决可以提高效率，软件解决灵活性更高

硬件逻辑等效：既可以用软件实现，也可以用硬件实现



冯诺依曼机：运算器、存储器、控制器、输入设备、输出设备

​	工作方式：控制流（指令流）驱动方式，即按照指令的执行序列，以此读取指令，然后根据指令所含的控制信息，调用数据进行处理

​	早期冯诺依曼机以运算器为中心，输入/输出设备通过运算器与存储器传输数据

（冯诺依曼机）

![在这里插入图片描述](https://img-blog.csdnimg.cn/20200128164005668.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MzkxNDYwNA==,size_16,color_FFFFFF,t_70)

（现代计算机）

![在这里插入图片描述](https://img-blog.csdnimg.cn/20200128172322590.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MzkxNDYwNA==,size_16,color_FFFFFF,t_70)



计算机的功能部件

​	输入设备：将程序和数据以机器可以识别和接受的信息形式输入计算机内

​	输出设备：将计算机处理的结果以人们所能接受的形式或其他系统所要求的信息形式输出

​	存储器：主存+辅存

​		主存：CPU能够直接访问的存储器

​			每个存储元件存储一位二进制代码

​			存储单元可以存储一串二进制代码，这串代码称为存储字，代码的位数为存储字长

​			存储字长可以是1B或是字节的偶数倍

​			主存的工作方式：按存储单元的地址进行存取，又称为按地址存取方式（相联存储器按内容访问）

​			主存基本构成：存储体、地址寄存器（MAR），数据寄存器（MDR）、时序控制逻辑

​			地址寄存器：用于寻址，位数对应存储单元个数，如MAR为10位，则有2^10^=1024个存储单元，记为1K。MAR的长度与PC（程									序计数器）长度相等

​				MAR在CPU中，未集成到运算器和控制器中

​			数据寄存器：位数=存储字长，一般为字节(B)的二次幂的整数倍

​			MAR和MDR虽然是存储器的一部分，但在现代CPU中却是存在于CPU中的；另外高速缓存（Cache）也存在于CPU中

​		辅存：又称外存，用于帮助主存记忆更多信息，辅存信息必须调入主存后才能被CPU访问

​	运算器：进行逻辑运算，算数运算

​		基本结构：算术逻辑单元（ALU）、通用寄存器、程序状态寄存器（标志寄存器）

​			通用寄存器：暂存操作数和中间结果

​				构成：累加器（ACC）、乘商寄存器（MQ）、操作数寄存器（X）、变址寄存器（IX）、基址寄存器（BR）

​			状态寄存器：有无进位（CF）、有无溢出（OF）、结果正负（SF）、结果是否为零（ZF）、奇偶标志位（P）

​	控制器：程序计数器（PC）、控制单元（CU）

​		PC：CPU每取一个指令码就加一

​		CU：指令寄存器IR、指令译码器ID、操作控制器OC

​	PC：存放要执行指令的地址

​	IR（指令寄存器）：存放要执行的指令



CPU和主存通过总线连接

​	总线：地址、数据、控制三组信号线

​	MAR中地址信息送到地址线上，用于指向读/写操作的主存存储单元

​	控制线中右读/写信号，指出数据是从CPU写入主存还是从主存读出到CPU

​	根据操作来控制将MDR中数据是直接送到数据线上还是将数据线上数据读到MDR中

​	CPU区分指令和数据：根据指令周期的不同阶段，通常在取指令阶段取出指令，执行阶段取出的是数据

​		CPU只有在确定取出的是指令后才能将其操作码送去姨妈，故而不能根据译码结果区分指令和数据



计算机软件：系统软件和应用软件

​	系统软件：保证计算机系统高效、正确运行的基础软件，通常作为系统资源提供给用户使用

​	应用软件：为解决某个应用领域中的各类问题而编制的程序

​		数据库管理系统（DBMS）：系统软件，位于用户和操作系统之间的一层数据库管理软件

​		数据库系统（DBS）：计算机系统引入数据库后的系统，一般由数据库、DBMS、数据库管理员（DBA）和应用系统构成



三个级别语言：机器语言，汇编语言，高级语言

​	机器语言：又称为二进制语言，每条指令由二进制0/1组成，是计算机唯一可以直接识别和执行的语言

​	汇编语言：采用英文单词或其他缩写来代替二进制指令代码，需经过汇编程序的翻译转换为机器语言计算机硬件系统才能执行

​	高级语言：如C/C++等开发人员更容易理解和编写程序，需经过编译程序编译为汇编语言后汇编为机器语言或直接由高级语言程序直接						翻译成机器语言

​	高级语言--编译-->汇编语言--汇编-->机器语言



计算机工作步骤：程序和数据装入主存储器-->源程序转换成可执行文件-->从可执行文件的首地址开始逐条执行指令

从源程序到可执行文件（以cpp文件为例）:

​	.cpp文件--预处理-->.i文件--编译器编译-->.s汇编程序--汇编-->.o可重定位目标程序--链接-->可执行目标程序

​	预处理：预处理器对源程序中#开头的命令进行处理，生成.i预处理文件

​	编译阶段：编译器对预处理后的源程序进行编译，汇编语言源程序中的每一条语句都以一种文本格式描述一条低级指令，生成.s汇编语						言程序

​	汇编阶段：将汇编语言程序翻译成机器语言指令，把这些指令打包成.o文件，二进制

​	链接阶段：将多个可重定位目标文件和标准库函数合并为一个可执行目标文件，又称可执行文件

指令执行过程：程序中第一条指令位于PC中，根据PC取出第一条指令，经过译码，执行步骤等,控制计算机各功能部件的协同运行，完成这条指令的功能，并计算下一条指令的地址。用新得到的指令地址继续读出第二条指令并执行，知道程序结束为止

```
举个例子
例题：以取数指令（即将指令地址码指示的存储单元中的操作数取出后送至运算器的累加器(ACC)中）为例进行说明。其信息流程如下：

累加器ACC：二进制8位寄存器，存放操作数或运算结果。
M : 主存储器

（1）取指令：PC->MAR->M->MDR->IR
        根据PC取指令到IR。将PC的内容送MAR，MAR中的内容直接送地址线，同时控制器将读/写信号送读/写信号线，主存根据地址线上的地址和读信号，从指定存储单元读出指令，送到数据线上，MDR从数据线接受指令信息，并传送到IR中。

（2）分析指令：OP(IR)->CU
        指令译码器解释操作码OP(IR)并送出控制信号。指令寄存器（IR）将操作码OP(IR)送至指令译码器（ID）进行解释翻译，将翻译的信息送至操作控制器（OC），OC生成相应的控制信号，送到不同的执行部件。

（3）执行指令：Ad(IR)->MAR->M->MDR->ACC
        取数操作。将IR中的指令地址码送MAR，MAR将内容送至地址线，同时控制器将读/写信号送读/写线，从主存指定单元读出操作数，并通过数据线送至MDR，再传送到ACC中。

每取完一条指令，(PC)+1->PC，取下一条指令的地址。
```



计算机系统层次结构：指的是计算机系统由硬件和软件两大部分所构成，而如果按功能再细分，可分为7层。把计算机系统按功能分为多级层次结构，就是有利于正确理解计算机系统的工作过程，明确软件，硬件在计算机系统中的地位和作用。
	硬联逻辑级
		第零级是硬联逻辑级，这是计算机的内核，由门，触发器等逻辑电路组成。
	微程序级
		第一级是微程序级。它是实现程序的一种手段，具体就是将一条机器指令编写成一段微程序。每一个微程序包含若干条微指令，每一条微指令对应一条或多条微操作，一般是直接由硬件执行的。
	传统机器级
		第二级是传统机器级，这级的机器语言是该机的指令集，程序员用机器指令编写的程序可以由微程序进行解释。
	操作系统级
		第三级是操作系统级，从操作系统的基本功能来看，一方面它要直接管理传统机器中的软硬件资源，另一方面它又是传统机器的延伸。
	汇编语言级
		第四级是汇编语言级，这级的机器语言是汇编语言，完成汇编语言翻译的程序叫做汇编程序。
	高级语言级
		这级的机器语言就是各种高级语言，面向用户，为方便用户编写应用程序而设置，通常用编译程序来完成高级语言翻译的工作。
	应用语言级
		这一级是为了使计算机满足某种用途而专门设计的，因此这一级语言就是各种面向问题的应用语言。

![在这里插入图片描述](https://img-blog.csdnimg.cn/20200130144753765.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MzkxNDYwNA==,size_16,color_FFFFFF,t_70)

![在这里插入图片描述](https://img-blog.csdnimg.cn/20200130144736575.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MzkxNDYwNA==,size_16,color_FFFFFF,t_70)

#### 计算机性能指标

机器字长：计算机进行一次整数运算所能处理的二进制的最大位数，一般与字长长度有关

数据通路带宽：外部数据总线一次所能并行传送信息的位数，非CPU内部数据总线宽度

主存容量：主存储器所能存储信息的最大容量，以字节表示或是字数X字长

运算速度：

​	吞吐量：系统所在单位时间内处理请求的数量

​	响应时间：用户向计算机发送一个请求，到系统对该请求做出响应并获得所需结果的等待时间

​	主频：机器内部主时钟的频率

​	CPU时钟周期：主频倒数，CPU中最小时间单位，每个动作至少需要一个时钟周期

​	CPI：执行一条指令所需的时钟周期数

​		系统结构、计算机组织、指令集会影响CPI，时钟频率不会影响CPI

​	CPU执行时间：运行一个程序花费的时间，指令条数 * CPI * 主频倒数

​	MIPS：每秒执行多少百万条指令

​	MFLOPS：每秒执行多少百万条浮点运算

​	GFLOPS：每秒执行多少十亿次浮点运算

​	TFLOPS：每秒执行多少万亿次浮点运算

```
1 MFLOPS (megaFLOPS) 等于每秒1百万 (=10^6) 次的浮点运算，
1 GFLOPS (gigaFLOPS) 等于每秒10亿 (=10^9) 次的浮点运算，
1 TFLOPS (teraFLOPS) 等于每秒1万亿 (=10^12) 次的浮点运算，
1 PFLOPS (petaFLOPS) 等于每秒1千万亿 (=10^15) 次的浮点运算
```

专业术语

​	系列机：具有基本相同的体系结构，使用相同的基本指令系统的多个不同型号的计算机组成的一个产品系列

​	兼容：之计算机软件或硬件的通用性

​	软件可移植性：指把使用在某个系列计算机中的软件直接或进行较少更改就能在另一个系列的计算机上正常运行的可能性

​	固件：将程序固定在ROM中组成的部件。固件是一种具有软件特性的硬件，吸收了软/硬件的各自优点，执行速度快于软件，灵活性优				于硬件，是软硬件结合的产物

#### 总结

​	对程序员透明与不透明

​		透明：IR、MAR、MDR

​		不透明：程序计数器(pc)、通用寄存器、状态寄存器（psw）

## OS

## 计网